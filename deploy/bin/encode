#!/usr/bin/env php
<?php
// TODO encode.php 每次打的包 md5sum 都不同, 有随机种子? 是否可使之相同? (xiaopei.li@2012-01-13)

if ( PHP_SAPI != 'cli') {
	die("Please use it in command-line\n");
}

if (count($argv) < 2) {
	die("Please specific directory name\nUsage: gini-pack file\n");
}

list(, $file) = $argv;

require __DIR__.'/../lib/obfuscator.php';

$ob = new Obfuscator(file_get_contents($file));
$ob->set_reserved_keywords(['$config', '$lang']);
echo $ob->format()."\n";
